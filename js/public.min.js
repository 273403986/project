define(function(){function e(){var e=i($.cookie("cart")?$.cookie("cart"):""),o=0;for(var t in e)o+=Number(e[t].num);$("#fix .div2 span").text(o)}function i(e){return e?e?JSON.parse(e):void 0:{}}return{over:function(e,i,o){var t=document.getElementById(e).getElementsByClassName(i)[0];t.onmouseover=function(){t.style.height="100px",t.style.borderLeft="1px solid #d8d8d8",t.style.background="#fff url("+o+"images/xia_03.jpg) no-repeat 55px 18px"},t.onmouseout=function(){t.style.height="38px",t.style.borderLeft="0",t.style.background="#fafafa url("+o+"images/xia_03.jpg) no-repeat 55px 18px"}},fixS:function(e){$("#fix .div1 ul .div11 em").click(function(){var e=$.cookie("loginUsers")?$.cookie("loginUsers"):"";e=function(e){if(!e)return{};for(var i=e.split(":"),o={},t=0;t<i.length;t++){var n=i[t].split(",");o[n[0]]=n[1]}return o}(e);for(var i in e);delete e[i],$.cookie("loginUsers",function(e){var i="";for(var o in e){var t=e[o];i&&(i+=":"),i+=o+","+t}return i}(e),{expires:1,path:"/"}),location.href=""});var i=document.getElementById("fix").getElementsByTagName("a");i[3].parentNode.onmouseover=function(){""!=($.cookie("loginUsers")?$.cookie("loginUsers"):"")?(i[3].parentNode.getElementsByTagName("h6")[0].style.display="none",i[3].parentNode.getElementsByTagName("div")[0].style.display="block"):(i[3].parentNode.getElementsByTagName("h6")[0].style.display="block",i[3].parentNode.getElementsByTagName("div")[0].style.display="none"),i[3].parentNode.style.background="url("+e+"images/icon_list.png) no-repeat -237px -2px"},i[3].parentNode.onmouseout=function(){i[3].parentNode.getElementsByTagName("h6")[0].style.display="none",i[3].parentNode.getElementsByTagName("div")[0].style.display="none",i[3].parentNode.style.background="#444851"},i[4].onmouseover=function(){i[4].parentNode.style.backgroundColor="#c42c33"},i[4].onmouseout=function(){i[4].parentNode.style.backgroundColor="#444851"},i[6].parentNode.onmouseover=function(){i[6].parentNode.getElementsByTagName("img")[0].style.display="block",i[6].parentNode.style.background="url("+e+"images/icon_list.png) no-repeat -237px -58px"},i[6].parentNode.onmouseout=function(){i[6].parentNode.getElementsByTagName("img")[0].style.display="none",i[6].parentNode.style.background="#444851"},i[7].parentNode.onmouseover=function(){i[7].parentNode.getElementsByTagName("h6")[0].style.display="block",i[7].parentNode.style.background="url("+e+"images/icon_list.png) no-repeat -237px -2px"},i[7].parentNode.onmouseout=function(){i[7].parentNode.getElementsByTagName("h6")[0].style.display="none",i[7].parentNode.style.background="#444851"}},fix:function(){var e=$("#fix .div6 p a");$("#service div")[0],e.click(function(){$("html,body").animate({scrollTop:0},500)})},click:function(){var e=$("#buy .div2 ul li");$("#buy .div2 ul li a").click(function(){e.each(function(){$(this).css({"border-top":"0px solid #fff",background:"#f6f6f6"})}),$(this).parent().css({"border-top":"2px solid #c42c33",background:"#fff"})})},large:function(e,i,o,t,n){var s=$("#shop .div2 .div21 .div211 img"),r=$("#shop .div2 .div21 .div212 img");r.mouseover(function(){var a=$(this).index();0==a&&(s[0].src=e,r.each(function(){$(this).css("border","1px solid #fff")}),$(r[a]).css("border","1px solid #000")),1==a&&(s[0].src=i,r.each(function(){$(this).css("border","1px solid #fff")}),$(r[a]).css("border","1px solid #000")),2==a&&(s[0].src=o,r.each(function(){$(this).css("border","1px solid #fff")}),$(r[a]).css("border","1px solid #000")),3==a&&(s[0].src=t,r.each(function(){$(this).css("border","1px solid #fff")}),$(r[a]).css("border","1px solid #000")),4==a&&(s[0].src=n,r.each(function(){$(this).css("border","1px solid #fff")}),$(r[a]).css("border","1px solid #000"))});var a=$("#shop .div2 .div21 .div211 span"),d=$("#shop .div2 .div21 .div214");$("#shop .div2 .div21 .div214 img"),$(a[0]).mouseover(function(e){$(a[1]).css("display","block"),d.css("display","block");var i=s.clone();d.empty(),d.append(i)}),$(a[0]).mousemove(function(e){var i=e.offsetX-$(a[1]).width()/2,o=e.offsetY-$(a[1]).height()/2,t=$(a[0]).width()-$(a[1]).width(),n=$(a[0]).height()-$(a[1]).height();i<=0?i=0:i>=t&&(i=t),o<=0?o=0:o>=n&&(o=n),$(a[1]).css({left:i,top:o});var s=i/t,r=o/n,l=$("#shop .div2 .div21 .div214 img");l.css({left:-s*(l.width()-d.width()),top:-r*(l.height()-d.height())})}),$(a[0]).mouseout(function(){$(a[1]).css("display","none"),d.css("display","none")})},lg:function(){var e=$("#top .div1 span").eq(0),i=$("#top .div1 a"),o=$.cookie("loginUsers")?$.cookie("loginUsers"):"",t=$("#fix .div1 ul .div11 span").eq(1);if(""!=o){o=function(e){if(!e)return{};for(var i=e.split(":"),o={},t=0;t<i.length;t++){var n=i[t].split(",");o[n[0]]=n[1]}return o}(o);for(var n in o);e.text("你好："+n+","),t.text(n),i.each(function(){$(this).css("display","none")})}else i.each(function(){$(this).css("display","inline-block")}),e.text(""),t.text("")},lg2:function(){var e=$("#fix .div1 ul h6 input"),i=$("#fix .div1 ul h6 i");function o(e,i){return Math.floor(Math.random()*(i-e+1)+e)}i.click(function(){$(this).html(o(1,9).toString()+o(1,9).toString()+o(1,9).toString()+o(1,9).toString())}),$(e[3]).click(function(){var o=$(e[0]).val(),t=$(e[1]).val();if($(e[2]).val()==Number(i.html())){var n=$.cookie("registerUsers")?$.cookie("registerUsers"):"";(n=function(e){if(!e)return{};for(var i=e.split(":"),o={},t=0;t<i.length;t++){var n=i[t].split(",");o[n[0]]=n[1]}return o}(n))[o]==t?($.cookie("loginUsers",o,{expires:1,path:"/"}),alert("登录成功"),location.href=""):alert("你输入的用户名和密码不匹配，请确认后重试！")}else alert("你输入的验证码不正确")})},loadCart:e,add:function(){var o=$("#shop .div2 .div22 .div223 a"),t=$("#shop .div2 .div22 .div223 input"),n=0;$(t[0]).val(n),o.click(function(){var e=$(this).index();if(2==e)n++,$(t[0]).val(n);else{if(3!=e)return;n<=1?alert("商品的数量不能小于1"):(n--,$(t[0]).val(n))}}),t.eq(0).blur(function(){/^\d+$/.test($(this).val())||$(this).val("1")}),$(t[1]).click(function(o){var t=$($("#shop .div2 .div22 .div221 span")[2]).text(),n=$("#shop .div2 .div22 .div221 h2").text(),s=$($("#shop .div2 .div22 .div221 span")[1]).text(),r=$($("#shop .div2 .div22 .div223 input")[0]).val(),a=$("#shop .div2 .div21 .div211 img").attr("src");if(0!=$($("#shop .div2 .div22 .div223 input")[0]).val()){var d=$.cookie("cart")?$.cookie("cart"):"",l=i(d);if(t in l)alert("购物车已存在该商品");else{l[t]={name:n,price:s,num:r,src:a};var c=$("#fix .div2 p a"),p=$("#shop .div2 .div21 .div211 img"),f=p.clone().css("opacity",.75);$("body").append(f),f.css({"z-index":9e3,display:"block",position:"absolute",top:p.offset().top+"px",left:p.offset().left+"px",width:p.width()+"px",height:p.height()+"px"}),f.animate({top:c.offset().top+88,left:c.offset().left,width:20,height:32},"slow",function(){f.remove(),e()})}d=JSON.stringify(l),$.cookie("cart",d,{expires:7,path:"/"})}else alert("数量不能为0")}),e()}}});